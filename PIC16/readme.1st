Here is the version based on a PIC16F193x.

So far, it works as expected in a simulator.

